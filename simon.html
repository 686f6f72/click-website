<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game Tutorial</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Press Start 2P', monospace;
            background: linear-gradient(45deg, #5C94FC, #87CEEB);
            color: #fff;
            margin: 0;
            padding: 0;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar {
            width: 250px;
            background: #222;
            padding: 20px;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
        }

.sidebar a {
    color: #FFD700;
    text-decoration: none;
    display: block;
    margin-bottom:40px;
    font-size: 13px;
}

.sidebar .back-button {
    font-size: 15px;
    font-weight: bold;
    margin-bottom: 55px;
    display: block;
    color: #FFD700;
}

.sidebar a:hover {
    color: white;
    transform: scale(1.05);
    transition: transform 0.2s ease, color 0.2s ease;
}


        .content {
            margin-left: 270px;
            padding: 40px;
            max-width: 800px;
        }

        h1, h2, h3 {
            color: #FFD700;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #333;
            font-size: 10px;
        }

        table, th, td {
            border: 1px solid #FFD700;
            padding: 8px;
            text-align: left;
        }

        img.diagram {
            max-width: 100%;
            margin: 20px 0;
            border: 2px solid #FFD700;
        }

        pre {
            background: #111;
            padding: 20px;
            overflow-x: auto;
            max-height: 400px;
            font-size: 10px;
            position: relative;
        }

        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #FFD700;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            font-family: 'Press Start 2P', monospace;
            font-size: 8px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="sidebar">
            <a href="click.html" class="back-button">← Back</a>
            <a href="#intro">Introduction</a>
            <a href="#materials">Materials</a>
            <a href="#connections">Connections</a>
            <a href="#diagram">Diagram</a>
            <a href="#code">Code</a>
            <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 340px; gap: 30px;">
  <img src="rq.png" alt="RQ Logo" style="width: 120px;">
  <img src="click.png" alt="Click Logo" style="width: 100px;">
</div>
        </div>
        <div class="content">
            <h1 id="intro">Simon Says Game Tutorial</h1>
            <img src="simon.gif" alt="Simon Game Preview" class="diagram">
            <p>An electronic memory game where players have to follow instructions perfectly, the LEDs will light up in a certain sequence and the player needs to press the corresponding buttons in the right order.</p>

           <h2 id="materials">Materials</h2>
<ul>
    <li>Arduino UNO R3 (1)</li>
    <li>LEDs in different colors (4)</li>
    <li>Push buttons (4)</li>
    <li>Buzzer/speaker (1)</li>
    <li>Resistors (4): 100Ω–300Ω</li>
    <li>9V battery (1)</li>
    <li>Battery box with on/off switch (1)</li>
    <li>Breadboard (1)</li>
    <li>Jumper wires</li>
</ul>

            <h2 id="diagram">Diagram</h2>
            <img src="simon-diagram.png" alt="Simon Diagram" class="diagram">

            <h2 id="code">Code</h2>
            <pre><button class="copy-button" onclick="copyCode()">COPY</button><code id="code-block">// ===== MUSICAL NOTE DEFINITIONS =====
#define NOTE_C3  131
#define NOTE_G3  196
#define NOTE_A3  220
#define NOTE_B3  247
#define NOTE_C4  262

// ===== PINS =====
const int SPEAKER_PIN = 6;
const int BUTTON_PINS[] = {2, 3, 4, 5};  // Buttons
const int LED_PINS[] = {8, 9, 10, 11};   // LEDs
const int TONES[] = {NOTE_G3, NOTE_A3, NOTE_B3, NOTE_C4}; // One for each button

// ===== SETTINGS =====
const int DEBOUNCE_MS = 50;
const int SEQUENCE_LENGTH = 100;
const int STEP_DELAY = 500;  // Time each LED stays on during sequence

// ===== GAME VARIABLES =====
int sequence[SEQUENCE_LENGTH];
int currentLevel = 0;
bool gameActive = false;

void setup() {
  Serial.begin(9600);
  
  // Initialize buttons and LEDs
  for (int i = 0; i < 4; i++) {
    pinMode(BUTTON_PINS[i], INPUT_PULLUP);   // Buttons are connected to GND
    pinMode(LED_PINS[i], OUTPUT);
    digitalWrite(LED_PINS[i], LOW);  // Ensure all LEDs start off
  }

  pinMode(SPEAKER_PIN, OUTPUT);
  randomSeed(analogRead(A0)); // Randomize sequence

  // Test all components at startup
  testAllComponents();
  
  welcomeSequence();
  gameActive = true;
}

void loop() {
  if (gameActive) {
    // Add new random button to sequence
    sequence[currentLevel] = random(0, 4); 
    
    // Play the current sequence
    playSequence();

    // Get player input
    if (!getPlayerInput()) {
      gameOver();
    } else {
      currentLevel++;
      if (currentLevel >= SEQUENCE_LENGTH) {
        gameWin();
      }
      delay(1000); // Pause between levels
    }
  }
}

// Test all LEDs and buttons
void testAllComponents() {
  Serial.println("Testing all components...");
  for (int i = 0; i < 4; i++) {
    Serial.print("Testing LED ");
    Serial.println(i);
    digitalWrite(LED_PINS[i], HIGH);
    tone(SPEAKER_PIN, TONES[i], 200);
    delay(500);
    digitalWrite(LED_PINS[i], LOW);
    noTone(SPEAKER_PIN);
  }
}

// ===== PLAY SEQUENCE =====
void playSequence() {
  Serial.print("Level ");
  Serial.println(currentLevel + 1);
  
  for (int i = 0; i <= currentLevel; i++) {
    int buttonIndex = sequence[i];
    digitalWrite(LED_PINS[buttonIndex], HIGH);
    tone(SPEAKER_PIN, TONES[buttonIndex]);
    delay(STEP_DELAY);
    digitalWrite(LED_PINS[buttonIndex], LOW);
    noTone(SPEAKER_PIN);
    delay(200); // Pause between steps
  }
}

// ===== READ PLAYER INPUT =====
bool getPlayerInput() {
  for (int step = 0; step <= currentLevel; step++) {
    bool inputReceived = false;
    unsigned long timeout = millis() + 5000; // 5 second timeout

    while (!inputReceived && millis() < timeout) {
      for (int i = 0; i < 4; i++) {
        if (digitalRead(BUTTON_PINS[i]) == LOW) { // Button pressed
          // Debounce
          delay(DEBOUNCE_MS);
          while (digitalRead(BUTTON_PINS[i]) == LOW); // Wait for release
          
          // Feedback
          digitalWrite(LED_PINS[i], HIGH);
          tone(SPEAKER_PIN, TONES[i], 200);
          delay(200);
          digitalWrite(LED_PINS[i], LOW);
          noTone(SPEAKER_PIN);
          
          // Check if correct
          if (i != sequence[step]) {
            return false; // Wrong button
          }
          
          inputReceived = true;
          break;
        }
      }
    }
    
    if (!inputReceived) {
      Serial.println("Timeout!");
      return false; // Timeout
    }
  }
  return true; // All correct
}

// ===== GAME STATES =====
void welcomeSequence() {
  Serial.println("Simon Says Game Ready!");
  
  // Light up all LEDs in sequence
  for (int i = 0; i < 4; i++) {
    digitalWrite(LED_PINS[i], HIGH);
    tone(SPEAKER_PIN, TONES[i], 200);
    delay(200);
    digitalWrite(LED_PINS[i], LOW);
    noTone(SPEAKER_PIN);
  }
}

void gameOver() {
  Serial.print("Game Over at level ");
  Serial.println(currentLevel + 1);

  // Play failure sound and flash all LEDs
  for (int i = 0; i < 3; i++) {
    for (int j = 0; j < 4; j++) {
      digitalWrite(LED_PINS[j], HIGH);
    }
    tone(SPEAKER_PIN, NOTE_C3, 200);
    delay(200);
    for (int j = 0; j < 4; j++) {
      digitalWrite(LED_PINS[j], LOW);
    }
    tone(SPEAKER_PIN, NOTE_G3, 200);
    delay(200);
  }
  noTone(SPEAKER_PIN);

  // Reset game
  currentLevel = 0;
  gameActive = false;
  delay(1000);
  welcomeSequence();
  gameActive = true;
}

void gameWin() {
  Serial.println("You Win!");

  // Play victory sequence
  for (int i = 0; i < 4; i++) {
    for (int j = 0; j < 4; j++) {
      digitalWrite(LED_PINS[j], HIGH);
      tone(SPEAKER_PIN, TONES[j], 100);
      delay(100);
      digitalWrite(LED_PINS[j], LOW);
      noTone(SPEAKER_PIN);
    }
  }

  // Reset game
  currentLevel = 0;
  gameActive = false;
  delay(1000);
  welcomeSequence();
  gameActive = true;
}


</code></pre>
        </div>
    </div>

    <script>
        function copyCode() {
            const code = document.getElementById('code-block').innerText;
            navigator.clipboard.writeText(code).then(() => {
                alert('Code copied!');
            });
        }
    </script>
</body>
</html>
